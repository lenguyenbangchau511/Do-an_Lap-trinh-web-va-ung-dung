<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bloom - C·ª≠a h√†ng hoa t∆∞∆°i</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
</head>
<body>
  <!-- SITE WRAPPER -->
  <div class="site-wrapper">

    <!-- HEADER ƒê√É ƒêƒÇNG NH·∫¨P -->
    <header class="bloom-header">
      <div class="bloom-container">
      <div class="bloom-logo">
        <a href="5_DaDangNhap.html" class="logo-link" aria-label="Bloom - Tr·ªü v·ªÅ trang ch·ªß">
          <svg class="logo-icon" viewBox="0 0 100 100" fill="none" aria-hidden="true">
            <circle cx="50" cy="50" r="45" fill="#2e7d68" opacity="0.9"/>
            <path d="M50 20 C60 15, 75 25, 75 40 C75 55, 60 65, 50 70 C40 65, 25 55, 25 40 C25 25, 40 15, 50 20" fill="#eaf8f0"/>
            <circle cx="40" cy="35" r="8" fill="#b19cd9"/>
            <circle cx="60" cy="35" r="8" fill="#b19cd9"/>
            <circle cx="50" cy="50" r="12" fill="#9370db"/>
            <path d="M50 70 L45 85 L55 85 Z" fill="#2e7d68"/>
          </svg>
          <span class="logo-text">Bloom</span>
        </a>
      </div>
        <nav class="bloom-nav" aria-label="Menu ch√≠nh">
          <!-- THANH SEARCH TR√äN HEADER -->
          <div class="header-search">
            <input 
              type="text" 
              placeholder="Nh·∫≠p t√™n s·∫£n ph·∫©m..." 
              id="header-search-input"
              aria-label="T√¨m ki·∫øm s·∫£n ph·∫©m"
            >
            <button class="header-search-btn" onclick="redirectToSearch()" aria-label="T√¨m ki·∫øm">
              <i class="fas fa-search"></i>
            </button>
          </div>
          <a href="6_GioHang.html" title="Gi·ªè h√†ng" aria-label="Gi·ªè h√†ng">
            <i class="fa-solid fa-bag-shopping" aria-hidden="true"></i>
          </a>
          <a href="9_LichSuDonHang.html" title="L·ªãch s·ª≠ ƒë∆°n h√†ng" aria-label="L·ªãch s·ª≠ ƒë∆°n h√†ng">
            <i class="fa-regular fa-clock" aria-hidden="true"></i>
          </a>
          <a href="3_ThongTinCaNhan.html" title="T√†i kho·∫£n" aria-label="T√†i kho·∫£n">
            <i class="fa-regular fa-circle-user" aria-hidden="true"></i>
          </a>
          <a href="index.html" class="logout-btn" title="ƒêƒÉng xu·∫•t" aria-label="ƒêƒÉng xu·∫•t">
            <i class="fa-solid fa-right-from-bracket" aria-hidden="true"></i>
          </a>
        </nav>
        
        <!-- Menu mobile -->
        <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false">
          <i class="fas fa-bars" aria-hidden="true"></i>
        </button>
      </div>
    </header>

    <!-- L·ªúI CH√ÄO KH√ÅCH H√ÄNG ƒê√É ƒêƒÇNG NH·∫¨P -->
    <section class="welcome-section" aria-labelledby="welcome-heading">
      <div class="container">
        <div class="welcome-content">
          <h1 id="welcome-heading">Ch√†o m·ª´ng tr·ªü l·∫°i, <span class="user-name">Nguy·ªÖn VƒÉn A</span>! üå∏</h1>
          <p>H√¥m nay b·∫°n mu·ªën mang ƒëi·ªÅu g√¨ ƒë·∫∑c bi·ªát ƒë·∫øn v·ªõi ng∆∞·ªùi th∆∞∆°ng y√™u?</p>
        </div>
      </div>
    </section>

    <!-- ==== HERO ==== -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-content">
        <h1 id="hero-title">Lan t·ªèa h∆∞∆°ng s·∫Øc thi√™n nhi√™n</h1>
        <p>Nh·ªØng b√≥ hoa Bloom mang h∆°i th·ªü c·ªßa s·ª± tinh t·∫ø, thu·∫ßn khi·∫øt v√† ch√¢n th√†nh.</p>
        <button class="btn-hero" onclick="scrollToProducts()">Kh√°m ph√° ngay</button>
      </div>
    </section>

    <!-- DANH M·ª§C -->
    <section class="categories container" aria-labelledby="categories-title">
      <h2 id="categories-title" class="visually-hidden">Danh m·ª•c s·∫£n ph·∫©m</h2>
      <ul role="tablist">
        <li role="tab" aria-selected="true" class="active">
          <a href="#all-products" onclick="filterProducts('all')">T·∫•t c·∫£ s·∫£n ph·∫©m</a>
        </li>
        <li role="tab" aria-selected="false">
          <a href="#bouquets" onclick="filterProducts('bo-hoa')">B√≥ hoa</a>
        </li>
        <li role="tab" aria-selected="false">
          <a href="#baskets" onclick="filterProducts('lang-hoa')">L·∫µng hoa</a>
        </li>
        <li role="tab" aria-selected="false">
          <a href="#stands" onclick="filterProducts('ke-hoa')">K·ªá hoa</a>
        </li>
      </ul>
    </section>

    <!-- S·∫¢N PH·∫®M M·∫∂C ƒê·ªäNH -->
    <main id="products" class="container" aria-labelledby="products-title">
      <h2 id="products-title" class="visually-hidden">S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
      <div class="product-grid" id="default-products" role="list" aria-label="Danh s√°ch s·∫£n ph·∫©m">
        <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c render b·∫±ng JavaScript -->
      </div>
    </main>

    <!-- PH√ÇN TRANG CHO S·∫¢N PH·∫®M M·∫∂C ƒê·ªäNH -->
    <div class="pagination container" id="default-pagination" aria-label="Ph√¢n trang s·∫£n ph·∫©m">
      <!-- Ph√¢n trang s·∫Ω ƒë∆∞·ª£c render b·∫±ng JavaScript -->
    </div>

    <!-- FOOTER -->
    <footer class="site-footer" aria-labelledby="footer-heading">
      <div class="container footer-inner">
        <h2 id="footer-heading" class="visually-hidden">Th√¥ng tin li√™n h·ªá</h2>
        <div class="footer-main">
          <div class="footer-brand">
            <div class="footer-logo">
              <svg width="60" height="60" viewBox="0 0 100 100" fill="none" aria-hidden="true">
                <circle cx="50" cy="50" r="45" fill="#2e7d68" opacity="0.9"/>
                <path d="M50 20 C60 15, 75 25, 75 40 C75 55, 60 65, 50 70 C40 65, 25 55, 25 40 C25 25, 40 15, 50 20" fill="#eaf8f0"/>
                <circle cx="40" cy="35" r="8" fill="#b19cd9"/>
                <circle cx="60" cy="35" r="8" fill="#b19cd9"/>
                <circle cx="50" cy="50" r="12" fill="#9370db"/>
                <path d="M50 70 L45 85 L55 85 Z" fill="#2e7d68"/>
              </svg>
              <span>Bloom</span>
            </div>
            <p class="footer-tagline">Lan t·ªèa h∆∞∆°ng s·∫Øc thi√™n nhi√™n</p>
          </div>

          <div class="footer-contact">
            <h3>Th√¥ng Tin Li√™n H·ªá</h3>
            <div class="contact-info">
              <div class="contact-item">
                <i class="fas fa-globe" aria-hidden="true"></i>
                <span>bloom.vn</span>
              </div>
              <div class="contact-item">
                <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
                <span>123 ƒê∆∞·ªùng Hoa, Qu·∫≠n 1, TP.HCM</span>
              </div>
              <div class="contact-item">
                <i class="fas fa-phone" aria-hidden="true"></i>
                <a href="tel:+84901234567">090 123 4567</a>
              </div>
              <div class="contact-item">
                <i class="fas fa-envelope" aria-hidden="true"></i>
                <a href="mailto:info@bloom.vn">info@bloom.vn</a>
              </div>
              <div class="contact-item">
                <i class="fas fa-clock" aria-hidden="true"></i>
                <span>T2 ‚Äì CN: 8h30 ‚Äì 21h00</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="footer-bottom">
          <p>&copy; 2024 Bloom - Shop hoa t∆∞∆°i. All rights reserved.</p>
        </div>
      </div>
    </footer>

  </div> <!-- /site-wrapper -->

  <!-- JAVASCRIPT -->
  <script>
    // D·ªØ li·ªáu m·∫´u cho s·∫£n ph·∫©m - TH√äM NHI·ªÄU S·∫¢N PH·∫®M H∆†N (gi·ªëng index.html)
    const sampleProducts = [
      {
        id: 1,
        name: "Nhi·ªát √Åi",
        price: 700000,
        category: "bo-hoa",
        image: "images/hoa1.jpg",
        description: "B√≥ hoa h·ªìng ƒë·ªè th·ªÉ hi·ªán tr·ªçn v·∫πn s·ª± m√£nh li·ªát v√† l√£ng m·∫°n c·ªßa t√¨nh y√™u",
        popular: true
      },
      {
        id: 2,
        name: "Peach",
        price: 770000,
        category: "bo-hoa",
        image: "images/hoa2.jpg",
        description: "B√≥ hoa h·ªìng ph·∫•n d·ªãu d√†ng v√† thanh l·ªãch, ho√†n h·∫£o cho nh·ªØng d·ªãp ƒë·∫∑c bi·ªát",
        popular: true
      },
      {
        id: 3,
        name: "Blueberry",
        price: 250000,
        category: "bo-hoa",
        image: "images/hoa3.jpg",
        description: "S·∫Øc t√≠m quy·∫øn r≈© v√† b√≠ ·∫©n, ph√π h·ª£p cho nh·ªØng ng∆∞·ªùi y√™u th√≠ch s·ª± ƒë·ªôc ƒë√°o",
        popular: false
      },
      {
        id: 4,
        name: "Lemon",
        price: 650000,
        category: "bo-hoa",
        image: "images/hoa4.jpg",
        description: "B√≥ hoa t∆∞∆°i s√°ng v√† tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng v·ªõi s·∫Øc v√†ng r·ª±c r·ª°",
        popular: true
      },
      {
        id: 5,
        name: "V∆∞·ªùn Xu√¢n Ca",
        price: 670000,
        category: "bo-hoa",
        image: "images/hoa5.jpg",
        description: "S·ª± k·∫øt h·ª£p h√†i h√≤a c·ªßa nhi·ªÅu lo·∫°i hoa t·∫°o n√™n v·∫ª ƒë·∫πp t·ª± nhi√™n v√† tinh t·∫ø",
        popular: false
      },
      {
        id: 6,
        name: "H·ªìng M·ªông",
        price: 550000,
        category: "bo-hoa",
        image: "images/hoa1.jpg",
        description: "B√≥ hoa h·ªìng ph·∫•n d·ªãu d√†ng nh∆∞ gi·∫•c m∆° ng·ªçt ng√†o",
        popular: true
      },
      {
        id: 7,
        name: "T√≠m Th·ªßy Chung",
        price: 480000,
        category: "bo-hoa",
        image: "images/hoa2.jpg",
        description: "S·∫Øc t√≠m th·ªßy chung, bi·ªÉu t∆∞·ª£ng c·ªßa t√¨nh y√™u vƒ©nh c·ª≠u",
        popular: false
      },
      {
        id: 8,
        name: "Sunshine",
        price: 720000,
        category: "bo-hoa",
        image: "images/hoa3.jpg",
        description: "B√≥ hoa r·ª±c r·ª° nh∆∞ √°nh n·∫Øng m·∫∑t tr·ªùi, mang l·∫°i nƒÉng l∆∞·ª£ng t√≠ch c·ª±c",
        popular: true
      },
      {
        id: 9,
        name: "Shimmer Grace",
        price: 1150000,
        category: "lang-hoa",
        image: "images/langhoa1.webp",
        description: "L·∫µng hoa tr·∫Øng tinh kh√¥i v√† thanh khi·∫øt, sang tr·ªçng cho kh√¥ng gian hi·ªán ƒë·∫°i",
        popular: true
      },
      {
        id: 10,
        name: "BlueSky",
        price: 1450000,
        category: "lang-hoa",
        image: "images/langhoa2.jpg",
        description: "Thi·∫øt k·∫ø ƒë·ªôc ƒë√°o v·ªõi t√¥ng m√†u xanh d·ªãu m√°t, mang ƒë·∫øn c·∫£m gi√°c b√¨nh y√™n",
        popular: false
      },
      {
        id: 11,
        name: "Sen Xanh",
        price: 1500000,
        category: "lang-hoa",
        image: "images/langhoa3.png",
        description: "L·∫µng hoa sen thanh tao v√† qu√Ω ph√°i, l·∫•y c·∫£m h·ª©ng t·ª´ ngh·ªá thu·∫≠t truy·ªÅn th·ªëng",
        popular: true
      },
      {
        id: 12,
        name: "S·∫Øc M√†u",
        price: 3500000,
        category: "ke-hoa",
        image: "images/kehoa1.jpg",
        description: "K·ªá hoa ƒëa s·∫Øc m√†u r·ª±c r·ª°, t·∫°o ƒëi·ªÉm nh·∫•n ·∫•n t∆∞·ª£ng cho kh√¥ng gian r·ªông",
        popular: true
      },
      {
        id: 13,
        name: "H·ªìng Ph√°t",
        price: 1900000,
        category: "ke-hoa",
        image: "images/kehoa2.jpg",
        description: "K·ªá hoa mang ƒë·∫øn may m·∫Øn v√† t√†i l·ªôc, thi·∫øt k·∫ø tinh x·∫£o v√† √Ω nghƒ©a",
        popular: false
      },
      {
        id: 14,
        name: "T∆∞∆°ng Lai",
        price: 2100000,
        category: "ke-hoa",
        image: "images/kehoa3.jpg",
        description: "K·ªá hoa hi·ªán ƒë·∫°i h∆∞·ªõng ƒë·∫øn t∆∞∆°ng lai, ph√π h·ª£p v·ªõi kh√¥ng gian ƒë∆∞∆°ng ƒë·∫°i",
        popular: true
      },
      {
        id: 15,
        name: "Ph√∫ Qu√Ω",
        price: 2800000,
        category: "ke-hoa",
        image: "images/kehoa1.jpg",
        description: "K·ªá hoa sang tr·ªçng th·ªÉ hi·ªán ƒë·∫≥ng c·∫•p v√† s·ª± th·ªãnh v∆∞·ª£ng",
        popular: true
      },
      {
        id: 16,
        name: "Spring Bloom",
        price: 890000,
        category: "bo-hoa",
        image: "images/hoa2.jpg",
        description: "B√≥ hoa m√πa xu√¢n t∆∞∆°i m·ªõi v·ªõi s·∫Øc h·ªìng v√† tr·∫Øng tinh kh√¥i",
        popular: false
      },
      {
        id: 17,
        name: "Royal Elegance",
        price: 1250000,
        category: "lang-hoa",
        image: "images/langhoa3.png",
        description: "L·∫µng hoa ho√†ng gia v·ªõi thi·∫øt k·∫ø tinh t·∫ø v√† sang tr·ªçng",
        popular: true
      },
      {
        id: 18,
        name: "Golden Harvest",
        price: 3200000,
        category: "ke-hoa",
        image: "images/hoa1.jpg",
        description: "K·ªá hoa m√πa thu v·ªõi s·∫Øc v√†ng r·ª±c r·ª°, mang ƒë·∫øn kh√¥ng gian ·∫•m √°p",
        popular: false
      }
    ];

    // Bi·∫øn to√†n c·ª•c
    let currentCategory = 'all';

    // C·∫•u h√¨nh ph√¢n trang (gi·ªëng index.html)
    const paginationConfig = {
      currentPage: 1,
      itemsPerPage: 12, // Hi·ªÉn th·ªã 12 s·∫£n ph·∫©m m·ªói trang cho "T·∫•t c·∫£ s·∫£n ph·∫©m"
      itemsPerPageCategory: 3, // Hi·ªÉn th·ªã 3 s·∫£n ph·∫©m m·ªói trang cho c√°c danh m·ª•c kh√°c
      totalPages: 1
    };

    // H√†m ti·ªán √≠ch
    function scrollToProducts() {
      document.getElementById('products').scrollIntoView({ 
        behavior: 'smooth',
        block: 'start'
      });
    }

    function handleImageError(img) {
      img.src = 'https://images.unsplash.com/photo-1487070183333-13a8a54b5f14?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
      img.alt = 'H√¨nh ·∫£nh s·∫£n ph·∫©m t·∫°m th·ªùi kh√¥ng kh·∫£ d·ª•ng';
    }

    // H√†m chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang t√¨m ki·∫øm
    function redirectToSearch() {
      const searchInput = document.getElementById('header-search-input');
      const searchTerm = searchInput.value.trim();
      
      if (searchTerm) {
        window.location.href = `15_TimKiem2.html?q=${encodeURIComponent(searchTerm)}`;
      } else {
        window.location.href = '15_TimKiem2.html';
      }
    }

    // H√†m l·∫•y s·ªë s·∫£n ph·∫©m m·ªói trang d·ª±a tr√™n danh m·ª•c
    function getItemsPerPage() {
      return currentCategory === 'all' 
        ? paginationConfig.itemsPerPage 
        : paginationConfig.itemsPerPageCategory;
    }

    // H√†m t·∫°o danh s√°ch s·∫£n ph·∫©m (l·∫∑p l·∫°i cho danh m·ª•c c√≥ √≠t s·∫£n ph·∫©m)
    function createPaginatedProducts(originalProducts, page = 1) {
      const itemsPerPage = getItemsPerPage();
      const startIndex = (page - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      
      // N·∫øu l√† danh m·ª•c "T·∫•t c·∫£ s·∫£n ph·∫©m", kh√¥ng l·∫∑p l·∫°i
      if (currentCategory === 'all') {
        return originalProducts.slice(startIndex, endIndex);
      }
      
      // N·∫øu l√† danh m·ª•c kh√°c v√† kh√¥ng ƒë·ªß s·∫£n ph·∫©m, l·∫∑p l·∫°i danh s√°ch
      if (originalProducts.length === 0) {
        return [];
      }
      
      const paginatedProducts = [];
      for (let i = startIndex; i < endIndex; i++) {
        const originalIndex = i % originalProducts.length;
        const product = {...originalProducts[originalIndex]};
        // T·∫°o ID duy nh·∫•t ƒë·ªÉ tr√°nh tr√πng l·∫∑p
        product.tempId = `${product.id}-${i}`;
        paginatedProducts.push(product);
      }
      
      return paginatedProducts;
    }

    // H√†m t√≠nh t·ªïng s·ªë trang
    function calculateTotalPages(products) {
      const itemsPerPage = getItemsPerPage();
      
      if (currentCategory === 'all') {
        // Cho "T·∫•t c·∫£ s·∫£n ph·∫©m": t√≠nh to√°n th·ª±c t·∫ø
        return Math.ceil(products.length / itemsPerPage);
      } else {
        // Cho c√°c danh m·ª•c kh√°c: lu√¥n c√≥ √≠t nh·∫•t 3 trang
        const actualPages = Math.ceil(products.length / itemsPerPage);
        return Math.max(actualPages, 3);
      }
    }

    // H√†m c·∫≠p nh·∫≠t ph√¢n trang
    function updatePagination(products, paginationId, currentPage = 1) {
      const totalPages = calculateTotalPages(products);
      
      paginationConfig.totalPages = totalPages;
      paginationConfig.currentPage = currentPage;
      
      const paginationContainer = document.getElementById(paginationId);
      
      // ·∫®n ph√¢n trang n·∫øu ch·ªâ c√≥ 1 trang (ch·ªâ cho "T·∫•t c·∫£ s·∫£n ph·∫©m")
      if (totalPages <= 1 && currentCategory === 'all') {
        paginationContainer.style.display = 'none';
        return;
      }
      
      // Lu√¥n hi·ªÉn th·ªã ph√¢n trang cho c√°c danh m·ª•c kh√°c
      paginationContainer.style.display = 'flex';
      renderPagination(paginationContainer, currentPage, totalPages, paginationId);
    }

    // H√†m render ph√¢n trang
    function renderPagination(container, currentPage, totalPages, paginationId) {
      let paginationHTML = '';
      
      // N√∫t Previous
      if (currentPage > 1) {
        paginationHTML += `
          <a href="#" class="page-nav" aria-label="Trang tr∆∞·ªõc" onclick="changePage(${currentPage - 1}, '${paginationId}')">
            <i class="fas fa-chevron-left" aria-hidden="true"></i>
          </a>
        `;
      } else {
        paginationHTML += `
          <a href="#" class="page-nav disabled" aria-label="Trang tr∆∞·ªõc" aria-disabled="true">
            <i class="fas fa-chevron-left" aria-hidden="true"></i>
          </a>
        `;
      }
      
      // C√°c s·ªë trang
      const maxVisiblePages = 5;
      let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
      let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
      
      // ƒêi·ªÅu ch·ªânh n·∫øu g·∫ßn cu·ªëi
      if (endPage - startPage + 1 < maxVisiblePages) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }
      
      // Hi·ªÉn th·ªã trang ƒë·∫ßu n·∫øu c·∫ßn
      if (startPage > 1) {
        paginationHTML += `
          <a href="#" class="page-number" aria-label="Trang 1" onclick="changePage(1, '${paginationId}')">1</a>
        `;
        if (startPage > 2) {
          paginationHTML += `<span class="page-ellipsis" aria-hidden="true">...</span>`;
        }
      }
      
      // C√°c trang ch√≠nh
      for (let i = startPage; i <= endPage; i++) {
        const isActive = i === currentPage;
        paginationHTML += `
          <a href="#" class="page-number ${isActive ? 'active' : ''}" 
             aria-label="Trang ${i}" ${isActive ? 'aria-current="page"' : ''}
             onclick="changePage(${i}, '${paginationId}')">
            ${i}
          </a>
        `;
      }
      
      // Hi·ªÉn th·ªã trang cu·ªëi n·∫øu c·∫ßn
      if (endPage < totalPages) {
        if (endPage < totalPages - 1) {
          paginationHTML += `<span class="page-ellipsis" aria-hidden="true">...</span>`;
        }
        paginationHTML += `
          <a href="#" class="page-number" aria-label="Trang ${totalPages}" onclick="changePage(${totalPages}, '${paginationId}')">${totalPages}</a>
        `;
      }
      
      // N√∫t Next
      if (currentPage < totalPages) {
        paginationHTML += `
          <a href="#" class="page-nav" aria-label="Trang sau" onclick="changePage(${currentPage + 1}, '${paginationId}')">
            <i class="fas fa-chevron-right" aria-hidden="true"></i>
          </a>
        `;
      } else {
        paginationHTML += `
          <a href="#" class="page-nav disabled" aria-label="Trang sau" aria-disabled="true">
            <i class="fas fa-chevron-right" aria-hidden="true"></i>
          </a>
        `;
      }
      
      container.innerHTML = paginationHTML;
    }

    // H√†m chuy·ªÉn trang
    function changePage(page, paginationId) {
      paginationConfig.currentPage = page;
      
      // C·∫≠p nh·∫≠t s·∫£n ph·∫©m theo trang
      renderDefaultProducts();
      updatePagination(
        getCurrentProducts(), 
        'default-pagination', 
        page
      );
      
      // Scroll l√™n ƒë·∫ßu trang s·∫£n ph·∫©m
      document.getElementById('products').scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
    }

    // H√†m l·∫•y s·∫£n ph·∫©m hi·ªán t·∫°i theo danh m·ª•c
    function getCurrentProducts() {
      return currentCategory === 'all' 
        ? sampleProducts 
        : sampleProducts.filter(p => p.category === currentCategory);
    }

    // H√†m render s·∫£n ph·∫©m m·∫∑c ƒë·ªãnh
    function renderDefaultProducts() {
      const container = document.getElementById('default-products');
      const allProducts = getCurrentProducts();
      const paginatedProducts = createPaginatedProducts(allProducts, paginationConfig.currentPage);
      
      container.innerHTML = '';
      paginatedProducts.forEach(product => {
        const productElement = createProductElement(product);
        container.appendChild(productElement);
      });
      
      // C·∫≠p nh·∫≠t ph√¢n trang
      updatePagination(allProducts, 'default-pagination', paginationConfig.currentPage);
    }

    // H√†m l·ªçc s·∫£n ph·∫©m theo danh m·ª•c
    function filterProducts(category) {
      currentCategory = category;
      paginationConfig.currentPage = 1; // Reset v·ªÅ trang 1 khi chuy·ªÉn danh m·ª•c
      
      // C·∫≠p nh·∫≠t tr·∫°ng th√°i active cho tab
      document.querySelectorAll('.categories li').forEach(li => {
        li.setAttribute('aria-selected', 'false');
        li.classList.remove('active');
      });
      
      event.currentTarget.parentElement.setAttribute('aria-selected', 'true');
      event.currentTarget.parentElement.classList.add('active');
      
      renderDefaultProducts();
    }

    // H√†m t·∫°o HTML cho s·∫£n ph·∫©m (C√ì N√öT TH√äM V√ÄO GI·ªé - ƒê√É ƒêƒÇNG NH·∫¨P)
    function createProductElement(product) {
      const productDiv = document.createElement('article');
      productDiv.className = 'product';
      productDiv.setAttribute('role', 'listitem');
      productDiv.innerHTML = `
        <a href="4_ChiTietSanPham.html">
          <img 
            src="${product.image}" 
            alt="${product.name} - ${product.description}" 
            loading="lazy"
            onerror="handleImageError(this)"
          >
        </a>
        <h3>${product.name}</h3>
        <p class="price">${product.price.toLocaleString('vi-VN')}‚Ç´</p>
        <div class="product-actions">
          <button class="btn-outline" onclick="addToCart(${product.id})">Th√™m v√†o gi·ªè</button>
          <a href="6_GioHang.html?buynow=${product.id}" class="btn-buy-now">Mua ngay</a>
        </div>
      `;
      return productDiv;
    }

    // H√†m th√™m v√†o gi·ªè h√†ng (ƒê√É ƒêƒÇNG NH·∫¨P)
    function addToCart(productId) {
      const product = sampleProducts.find(p => p.id === productId);
      if (product) {
        // T·∫°o th√¥ng b√°o toast
        const toast = document.createElement('div');
        toast.className = 'cart-toast success';
        toast.innerHTML = `
          <i class="fas fa-check-circle" aria-hidden="true"></i>
          <span>ƒê√£ th√™m "${product.name}" v√†o gi·ªè h√†ng!</span>
          <button onclick="this.parentElement.remove()" aria-label="ƒê√≥ng th√¥ng b√°o">
            <i class="fas fa-times"></i>
          </button>
        `;
        document.body.appendChild(toast);
        
        // Auto remove after 3 seconds
        setTimeout(() => {
          if (toast.parentElement) {
            toast.remove();
          }
        }, 3000);
      }
    }

    // JavaScript ch√≠nh khi trang load
    document.addEventListener('DOMContentLoaded', function() {
      // Render s·∫£n ph·∫©m m·∫∑c ƒë·ªãnh
      renderDefaultProducts();

      // Header scroll effect
      window.addEventListener('scroll', () => {
        const header = document.querySelector('.bloom-header');
        if (window.scrollY > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      });
      
      // Mobile menu toggle
      document.querySelector('.mobile-menu-toggle').addEventListener('click', function() {
        const nav = document.querySelector('.bloom-nav');
        const isExpanded = this.getAttribute('aria-expanded') === 'true';
        
        nav.classList.toggle('active');
        this.setAttribute('aria-expanded', !isExpanded);
      });

      // Cho ph√©p nh·∫•n Enter tr√™n header search
      document.getElementById('header-search-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          redirectToSearch();
        }
      });

      // Logout confirmation
      document.querySelector('.logout-btn').addEventListener('click', function(e) {
        e.preventDefault();
        if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën ƒëƒÉng xu·∫•t?')) {
          window.location.href = 'index.html';
        }
      });
    });

    // Th√™m CSS animation cho toast
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
      .cart-toast {
        position: fixed;
        top: 100px;
        right: 20px;
        background: var(--green-main);
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        z-index: 10000;
        animation: slideIn 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .cart-toast button {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        padding: 4px;
        border-radius: 4px;
        transition: background 0.3s ease;
      }
      .cart-toast button:hover {
        background: rgba(255,255,255,0.2);
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>